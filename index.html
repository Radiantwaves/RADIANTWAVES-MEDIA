<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RadiantWaves Media</title>

<!-- Styles -->
<style>
body { font-family: Arial; margin:0; background:#f4f4f4; }
header { background:#111; color:white; padding:15px; text-align:center; }
nav { background:#222; padding:10px; text-align:center; flex-wrap:wrap; }
nav a { color:white; margin:6px 10px; text-decoration:none; font-weight:bold; cursor:pointer; display:inline-block; }
nav a:hover { color:#ffcc00; }
.breaking { background:red; color:white; padding:10px; overflow:hidden; white-space:nowrap; }
.breaking span { display:inline-block; padding-left:100%; animation:scroll 20s linear infinite; }
@keyframes scroll { from { transform:translateX(0); } to { transform:translateX(-100%); } }
.container { width:90%; margin:auto; margin-top:20px; }
.section { display:none; margin-top:20px; }
.card { background:white; padding:15px; margin-bottom:15px; border-radius:5px; }
.main-story img { width:100%; max-height:400px; object-fit:cover; }
.card img { width:100%; max-height:250px; object-fit:cover; margin-bottom:10px; }
</style>

<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json">
</head>

<body>

<!-- Header -->
<header>
  <h1>RadiantWaves Media</h1>
  <div id="liveDateTime" style="margin-top:5px;font-size:14px;"></div>
</header>

<!-- Navigation -->
<nav>
  <a onclick="showSection('home')">Home</a>
  <a onclick="showSection('nigeria')">Nigeria</a>
  <a onclick="showSection('europe')">Europe</a>
  <a onclick="showSection('africa')">Africa</a>
  <a onclick="showSection('asia')">Asia</a>
  <a onclick="showSection('america')">America</a>
  <a onclick="showSection('politics')">Politics</a>
  <a onclick="showSection('business')">Business</a>
  <a onclick="showSection('music')">Music</a>
  <a onclick="showSection('movies')">Movies</a>
  <a onclick="showSection('olympics')">Olympics</a>
</nav>

<!-- Breaking News -->
<div class="breaking">
  <span id="breakingNews"></span>
</div>

<!-- Main Container -->
<div class="container">

  <!-- Home -->
  <div id="home" class="section">
    <div class="main-story card">
      <h2 id="mainTitle"></h2>
      <img id="mainImage">
      <p id="mainSummary"></p>
    </div>
  </div>

  <!-- Other Sections -->
  <div id="nigeria" class="section"><h2>Nigeria</h2><div id="nigeriaNews"></div></div>
  <div id="europe" class="section"><h2>Europe</h2><div id="europeNews"></div></div>
  <div id="africa" class="section"><h2>Africa</h2><div id="africaNews"></div></div>
  <div id="asia" class="section"><h2>Asia</h2><div id="asiaNews"></div></div>
  <div id="america" class="section"><h2>America</h2><div id="americaNews"></div></div>
  <div id="politics" class="section"><h2>Politics</h2><div id="politicsNews"></div></div>
  <div id="business" class="section"><h2>Business</h2><div id="businessNews"></div></div>
  <div id="music" class="section"><h2>Music</h2><div id="musicNews"></div></div>
  <div id="movies" class="section"><h2>Movies</h2><div id="moviesNews"></div></div>
  <div id="olympics" class="section"><h2>Olympics</h2><div id="olympicsNews"></div></div>

</div>

<!-- Background Music -->
<audio id="bgMusic" autoplay loop>
  <source src="news-music.mp3" type="audio/mpeg">
</audio>
<button onclick="toggleMusic()" 
style="position:fixed;bottom:20px;right:20px;padding:10px;background:#111;color:white;border:none;border-radius:5px;">
Toggle Music
</button>

<!-- Scripts -->
<script>
// Fetch JSON and load news
fetch("news.json")
.then(res => res.json())
.then(data => {

  // Breaking news ticker
  document.getElementById("breakingNews").innerText =
    data.breaking.map(b => b.title).join(" âš¡ ");

  // Main story
  document.getElementById("mainTitle").innerText = data.main.title;
  document.getElementById("mainSummary").innerText = data.main.summary;
  document.getElementById("mainImage").src = data.main.image;

  // Function to load any section dynamically
  function loadSection(sectionName){
    if(data[sectionName]){
      let html="";
      data[sectionName].forEach(item=>{
        html+=`
          <div class="card">
            ${item.image ? `<img src="${item.image}">` : ""}
            <h3>${item.title}</h3>
            <p>${item.summary}</p>
          </div>`;
      });
      document.getElementById(sectionName+"News").innerHTML=html;
    }
  }

  ["nigeria","europe","africa","asia","america",
   "politics","business","music","movies","olympics"]
   .forEach(loadSection);

});

// Navigation
function showSection(id){
  document.querySelectorAll(".section").forEach(s=>s.style.display="none");
  document.getElementById(id).style.display="block";
}

// Show home by default
showSection("home");

// Live Clock & Date
function updateClock() {
  const now = new Date();
  const options = { weekday:'long', year:'numeric', month:'long', day:'numeric' };
  const date = now.toLocaleDateString(undefined, options);
  const time = now.toLocaleTimeString();
  document.getElementById("liveDateTime").innerHTML = date + " | " + time;
}
setInterval(updateClock,1000);
updateClock();

// Background music toggle
function toggleMusic(){
  const music=document.getElementById("bgMusic");
  if(music.paused){ music.play(); } else { music.pause(); }
}

// Register service worker for PWA
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>
